# DR16 模块

## 模块名称
DR16

## 模块描述
大疆 DR16 接收机解析模块，负责从 UART 读取遥控器数据并解析为结构体，供其他模块订阅和使用。

## 依赖硬件
- UART（名称：uart_dr16，协议：DBUS,波特率 100000，偶校验，8 数据位，1 停止位）

## 构造参数
- `task_stack_depth_uart`：UART 线程栈深度(单位：bit)

## 主要功能
- 解析遥控器摇杆、拨杆、鼠标、按键等数据
- 数据校验，自动丢弃损坏数据
- 发布解析后的数据到 Topic（`dr16_cmd`）

## 主要结构体
- `Data`：原始数据结构（含位域）
- `DataView`：普通结构体，便于直接访问各项数据

## 枚举说明
- `ControlSource`：控制来源（遥控/鼠标）
- `SwitchPos`：开关位置枚举
- `Key`：按键枚举，支持组合键编码

## 主要方法
- `DataCorrupted()`：判断数据是否错位
- `DataviewToData()`：将原始数据转换为普通结构体,DeBug模式下使用
- `Thread_Dr16()`：UART 读取线程，自动发布数据

## Topic
- `dr16_cmd`：发布解析后的遥控数据
